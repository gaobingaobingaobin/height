clc;
clear;
close all;

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%initialize solar farm%%%%%%%%%%%%%%%%%%%%%%%%%
camera1 = [0,0,0];%unit:mm
camera2 = [0,50000,0];
k=0;m=0;
for i=1:100
    m=m+1;
    for j=1:100
        k=k+1;
        cell(m,k,:) = [i*150,j*150,0];
    end
    k=0;
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%initialize rbg picture%%%%%%%%%%%%%%%%%%%%%%%%%
pc1_1 = imread('f1_1.jpg');
pc2_1 = imread('f2_1.jpg');
pc1_2 = imread('f1_2.jpg');

seg_num = 40;
%result of brutal force
load f12_c
load f12_r
[m,n]=size (gt_c);
count=0;sum_c=0;sum_r=0;
tt = abs(gt_c);
for i=1:m
    for j=1:n
        if tt(i,j)>2
            count = count+1;
            sum_c = sum_c+gt_c(i,j);
            sum_r = sum_r+gt_r(i,j)
        end
    end
end
f_c=round(sum(sum(gt_c))/count);
f_r=round(sum(sum(gt_r))/count);
d_pixel = sqrt(f_c^2+f_r^2);
rou = norm(camera1-camera2)/d_pixel;



%%
if 0
    ps=imread('sun.jpg'); %读取图像
    subplot(1,3,1)
    imshow(ps);
    title('原图像');
    ps=rgb2gray(ps);
    [m,n]=size(ps); %用Sobel微分算子进行边缘检测
    pa = edge(ps,'sobel');
    subplot(1,3,2);
    imshow(pa);
    title('Sobel边缘检测得到的图像');
    pp = edge(ps,'canny');
    subplot(1,3,3);
    imshow(pp);
    end